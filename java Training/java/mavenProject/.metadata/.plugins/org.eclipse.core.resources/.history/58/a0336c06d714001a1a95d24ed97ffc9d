package com.apachecamel.example;

import org.apache.camel.Exchange;
import org.apache.camel.Processor;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.json.simple.JsonObject;

public class JsonToXml extends RouteBuilder{

	@Override
	public void configure() throws Exception {

		from("direct:start").process(new Processor()
				{

					public void process(Exchange exchange) throws Exception {

						//get json
						String json = exchange.getIn().getBody(String.class);
						
						//transform json to xml
						JSONObject jsonObject = new JSONObject(json);
						String xml = XML.toString(jsonObject);
						
						//set the xml
						exchange.getOut().setBody(xml);
					}
			
				}).to("seda:end");
		
				
		
		
	}

}
